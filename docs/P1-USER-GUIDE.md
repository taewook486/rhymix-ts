# Rhymix-TS P1 기능 사용자 가이드

**버전:** 1.0.0
**작성일:** 2026-02-24
**대상:** 일반 사용자, 관리자

---

## 목차

1. [WYSIWYG 에디터](#1-wysiwyg-에디터)
2. [개인 메시지 시스템](#2-개인-메시지-시스템)
3. [알림센터](#3-알림센터)
4. [드래프트 관리](#4-드래프트-관리)
5. [레이아웃 빌더](#5-레이아웃-빌더)
6. [관리자 로그 보기](#6-관리자-로그-보기)

---

## 1. WYSIWYG 에디터

### 개요

Rhymix-TS는 **TipTap** 기반의 WYSIWYG(What You See Is What You Get) 에디터를 제공합니다. 직관적인 툴바와 실시간 미리보기로 풍부한 콘텐츠를 쉽게 작성할 수 있습니다.

### 주요 기능

#### 1.1 텍스트 서식

| 기능 | 설명 |
|------|------|
| **제목** | H1, H2, H3, H4 수준의 제목 스타일 |
| **굵게/기울임/밑줄/취소선** | 텍스트 강조 서식 |
| **인용문** | 블록 인용문 스타일 |
| **코드/인라인 코드** | 코드 하이라이팅 지원 |
| **글머리 기호** | 순서 있는 목록, 순서 없는 목록 |

#### 1.2 미디어 삽입

**이미지 업로드:**
1. 툴바의 이미지 아이콘 클릭
2. 이미지 파일 선택 (JPEG, PNG, GIF, WebP 지원)
3. 자동으로 Supabase Storage에 업로드
4. 에디터에 이미지 삽입

**이미지 크기 조정:**
- 이미지를 클릭하여 드래그로 크기 조정
- 최대 너비 자동 제한으로 레이아웃 깨짐 방지

#### 1.3 코드 하이라이팅

**지원 언어:**
JavaScript, TypeScript, Python, Java, C++, C#, Go, Rust, HTML, CSS, JSON, YAML 등 50+ 언어

**사용 방법:**
1. 툴바에서 코드 블록 아이콘 클릭
2. 언어 선택 (기본값: TypeScript)
3. 코드 입력
4. 자동 문법 하이라이팅 적용

#### 1.4 링크 삽입

1. 텍스트 선택 후 링크 아이콘 클릭
2. URL 입력
3. 자동으로 하이퍼링크 생성

### 자동저장

- **저장 주기:** 30초마다 자동저장
- **저장 위치:** `editor_autosave` 테이블
- **보관 기간:** 7일
- **저장 표시:** 에디터 하단에 "마지막 저장: N초 전" 표시

### 사용 예시

```
1. 게시글 작성 페이지 진입
2. 제목 입력
3. WYSIWYG 에디터에서 내용 작성
4. 텍스트 서식 적용 (굵게, 제목 등)
5. 이미지 삽입 (드래그 앤 드롭 또는 클릭)
6. 코드 블록 삽입 (개발 관련 글)
7. 자동저장 확인 (하단 인디케이터)
8. "저장" 버튼 클릭하여 게시
```

---

## 2. 개인 메시지 시스템

### 개요

회원 간 1:1 개인 메시지를 주고받을 수 있는 시스템입니다. 받은편지함/보낸편지함으로 관리하며, 실시간 알림을 지원합니다.

### 주요 기능

#### 2.1 메시지 작성

**메시지 작성 단계:**
1. `/messages/new` 페이지 진입
2. 수신자 선택 (자동완성 지원)
3. 제목 입력
4. 내용 작성
5. 전송 버튼 클릭

**제한사항:**
- 최대 메시지 길이: 10,000자
- 차단된 사용자에게는 메시지 전송 불가
- 자신에게는 메시지 전송 불가

#### 2.2 받은편지함/보낸편지함

**받은편지함:**
- 내게 수신된 모든 메시지 표시
- 읽지 않은 메시지는 파란 점으로 표시
- 읽지 않은 메시지 개수 배지 표시

**보낸편지함:**
- 내가 보낸 모든 메시지 표시
- 수신자가 읽었는지 여부 표시

#### 2.3 메시지 검색

- 제목 또는 내용으로 검색
- 실시간 검색 결과 필터링

#### 2.4 메시지 삭제

**소프트 삭제:**
- 받은편지함/보낸편지함에서 각각 삭제
- 양쪽 모두 삭제되면 완전 제거
- 삭제된 메시지는 복구 불가

#### 2.5 사용자 차단

**차단 기능:**
- 특정 사용자로부터의 메시지 차단
- 차단된 사용자에게는 메시지 전송 불가
- 차단 해제 가능

**차단 관리:**
- `/messages/settings` 페이지에서 차단 목록 관리
- 일괄 차단 해제 가능

### 실시간 알림

- 새 메시지 수신 시 즉시 알림
- Supabase Realtime 기반 실시간 업데이트
- 알림센터에서 미리보기 확인

### 사용 예시

```
1. 상단 메뉴에서 "메시지" 클릭
2. 받은편지함/보낸편지함 탭 전환
3. 읽지 않은 메시지 확인 (파란 점)
4. 메시지 클릭하여 내용 확인 (자동으로 읽음 표시)
5. 답장 작성 (메시지 상세 페이지에서)
6. 검색으로 특정 메시지 찾기
7. 불필요한 메시지 삭제
```

---

## 3. 알림센터

### 개요

시스템 알림을 중앙에서 관리하는 알림센터입니다. 실시간 알림 수신, 읽음 상태 관리, 알림 설정 등을 제공합니다.

### 주요 기능

#### 3.1 알림 타입

| 알림 타입 | 설명 |
|-----------|------|
| **댓글** | 내 게시글에 새 댓글이 달림 |
| **답글** | 내 댓글에 답글이 달림 |
| **멘션** | @멘션으로 언급됨 |
| **메시지** | 새 개인 메시지 수신 |
| **게시글 추천** | 내 게시글이 추천받음 |
| **시스템** | 시스템 공지사항 |

#### 3.2 알림센터 UI

**알림 벨:**
- 상단 내비게이션 바의 벨 아이콘
- 읽지 않은 알림 개수 배지 표시
- 클릭 시 알림 드롭다운 표시

**알림 드롭다운:**
- 최근 10개 알림 표시
- 읽지 않은 알림은 굵게 표시
- 클릭 시 알림 읽음 표시 + 관련 페이지 이동

**실시간 상태:**
- 연결됨: 초록색 점
- 연결 중: 노란색 점 (깜빡임)
- 연결 안됨: 표시 없음

#### 3.3 알림 관리

**모두 읽음으로 표시:**
- 드롭다운 상단의 "모두 읽음으로 표시" 버튼
- 한 번에 모든 알림을 읽음 상태로 변경

**알림 삭제:**
- 개별 알림 삭제 가능
- 삭제된 알림은 복구 불가

**모든 알림 보기:**
- 드롭다운 하단의 "모든 알림 보기" 링크
- `/notifications` 페이지로 이동
- 페이지네이션으로 모든 알림 확인

#### 3.4 알림 설정

**알림 설정 페이지 (`/notifications/settings`):**

| 설정 항목 | 설명 |
|----------|------|
| **댓글 알림** | 내 게시글에 댓글 달릴 때 알림 |
| **답글 알림** | 내 댓글에 답글 달릴 때 알림 |
| **멘션 알림** | @멘션으로 언급될 때 알림 |
| **메시지 알림** | 새 메시지 수신 시 알림 |
| **추천 알림** | 내 게시글이 추천받을 때 알림 |
| **시스템 알림** | 시스템 공지사항 알림 |

**이메일 알림:**
- 선택한 알림 타입을 이메일로도 수신
- 일일 요약 형식으로 발송
- 설정 페이지에서 이메일 주소 변경

### 실시간 동작

- Supabase Realtime 구독
- 새 알림 즉시 수신
- 오프라인 상태에서도 재접속 시 동기화

### 사용 예시

```
1. 상단 벨 아이콘 확인
2. 읽지 않은 알림 개수 확인 (빨간 배지)
3. 벨 클릭으로 알림 드롭다운 열기
4. 알림 클릭하여 읽음 표시 + 이동
5. "모두 읽음으로 표시"로 일괄 처리
6. 설정(톱니바퀴 아이콘) 클릭
7. 원하지 않는 알림 타입 끄기
```

---

## 4. 드래프트 관리

### 개요

작성 중인 콘텐츠가 자동으로 저장되는 드래프트 시스템입니다. 실수로 창을 닫아도 작성 중인 내용을 복구할 수 있습니다.

### 주요 기능

#### 4.1 자동저장

**저장 조건:**
- 30초마다 자동저장
- 내용이 변경되었을 때만 저장
- 게시글, 페이지, 댓글 작성 시 지원

**저장 정보:**
- 제목, 내용, HTML 내용, 요약
- 작성 중인 콘텐츠 유형 (게시글/페이지/댓글)
- 작성 대상 ID (수정 시)
- 메타데이터 (태그, 카테고리 등)

#### 4.2 드래프트 목록

**드래프트 관리자:**
- 게시글 작성 페이지의 "드래프트" 버튼
- 모든 드래프트 목록 표시
- 드래프트 미리보기 (제목, 요약, 저장 시간)

**드래프트 정보:**
- 콘텐츠 유형 표시 (게시글/페이지/댓글)
- 저장 시간 (N초/분/시간/일 전)
- 7일 동안 보관

#### 4.3 드래프트 복구

**복구 절차:**
1. "드래프트" 버튼 클릭
2. 복구할 드래프트 선택
3. "복구" 버튼 클릭
4. 에디터에 드래프트 내용 로드
5. 이어서 작성

**복구 시 주의사항:**
- 현재 작성 중인 내용은 덮어씌워짐
- 복구 전 확인 대화상자 표시
- 드래프트는 복구 후에도 유지됨

#### 4.4 드래프트 삭제

**삭제 방법:**
- 드래프트 관리자에서 휴지통 아이콘 클릭
- 확인 대화상자에서 "삭제" 확인
- 즉시 삭제 (복구 불가)

**자동 삭제:**
- 7일이 지난 드래프트는 자동 삭제
- 주기적인 정리 작업으로 만료된 드래프트 제거

### 사용 예시

```
1. 게시글 작성 시작
2. 제목과 내용 일부 작성
3. 30초 후 자동저장 (하단 인디케이터 표시)
4. 실수로 브라우저 닫기
5. 다시 게시글 작성 페이지 진입
6. "드래프트" 버튼 클릭
7. 이전에 작성하던 드래프트 확인
8. "복구" 버튼 클릭
9. 이어서 작성
10. 게시글 작성 완료 후 "저장"
```

---

## 5. 레이아웃 빌더

### 개요

관리자가 드래그 앤 드롭으로 사이트 레이아웃을 구성할 수 있는 비주얼 빌더입니다. 위젯을 배치하고 컬럼을 구성하여 맞춤형 레이아웃을 만들 수 있습니다.

### 주요 기능

#### 5.1 레이아웃 설정

**기본 정보:**
- 레이아웃 이름 (시스템 식별자, 예: `default_sidebar_right`)
- 레이아웃 제목 (표시 이름, 예: "Default with Right Sidebar")
- 설명 (레이아웃 용도 설명)
- 레이아웃 타입 (default, custom, blog, forum, landing)

#### 5.2 위젯 팔레트

**사용 가능한 위젯:**
| 위젯 | 설명 |
|------|------|
| **최신 게시글** | 최근 게시글 목록 표시 |
| **인기 게시글** | 조회수 높은 게시글 표시 |
| **최신 댓글** | 최근 댓글 목록 표시 |
| **달력** | 날짜별 게시글 달력 |
| **태그 클라우드** | 인기 태그 표시 |
| **통계** | 방문자/게시글 통계 |
| **배너** | 이미지 배너 표시 |
| **사용자 정의 HTML** | HTML/CSS/JS 삽입 |

#### 5.3 레이아웃 캔버스

**컬럼 관리:**
- "Add Column" 버튼으로 새 컬럼 추가
- 컬럼 너비 조정 (비율로 설정)
- 컬럼 삭제 (최소 1개 컬럼 필수)

**위젯 배치:**
1. 위젯 팔레트에서 원하는 위젯 드래그
2. 원하는 컬럼에 드롭
3. 위젯 순서 드래그 앤 드롭으로 재배치
4. 위젯 설정(톱니바퀴) 클릭으로 세부 설정

#### 5.4 위젯 설정

**공통 설정:**
- 위젯 제목 (표시 이름)
- CSS 클래스 (커스텀 스타일)
- 표시/숨김

**위젯별 설정:**
- **최신 게시글:** 표시 개수, 게시판 필터
- **인기 게시글:** 표시 개수, 기간, 정렬
- **최신 댓글:** 표시 개수
- **달력:** 게시판 연동
- **태그 클라우드:** 표시 개수, 최소 태그 개수
- **통계:** 통계 유형 선택
- **배너:** 이미지, 링크, Alt 텍스트
- **사용자 정의 HTML:** HTML 코드 입력

#### 5.5 레이아웃 미리보기

- "Preview" 버튼으로 실제 렌더링 미리보기
- 새 탭에서 열림
- 실시간 반영

#### 5.6 레이아웃 저장

**저장 절차:**
1. 레이아웃 설정 입력
2. 위젯 배치 완료
3. "Save Layout" 버튼 클릭
4. 유효성 검사 (레이아웃 이름 필수)
5. 저장 성공 메시지

**저장 후:**
- 레이아웃 목록에 추가
- 게시판/페이지에서 레이아웃 선택 가능
- 기본 레이아웃으로 설정 가능

### 레이아웃 타입

| 타입 | 용도 | 예시 |
|------|------|------|
| **default** | 기본 레이아웃 | 전체 페이지 공통 |
| **custom** | 사용자 정의 | 특별한 목적 |
| **blog** | 블록 스타일 | 블로그 게시글 |
| **forum** | 포럼 스타일 | 커뮤니티 게시판 |
| **landing** | 랜딩 페이지 | 프로모션 페이지 |

### 사용 예시

```
1. 관리자 페이지 진입
2. "레이아웃 빌더" 메뉴 클릭
3. 새 레이아웃 생성 또는 기존 레이아웃 선택
4. 레이아웃 정보 입력 (이름, 제목, 설명)
5. "Add Column"으로 2열 레이아웃 생성
6. 첫 번째 컬럼 너비 70% 설정
7. 두 번째 컬럼 너비 30% 설정
8. 위젯 팔레트에서 "최신 게시글" 드래그
9. 첫 번째 컬럼에 드롭
10. 위젯 설정 클릭 (표시 개수 10개)
11. 위젯 팔레트에서 "달력" 드래그
12. 두 번째 컬럼에 드롭
13. "Preview"로 미리보기 확인
14. "Save Layout"으로 저장
```

---

## 6. 관리자 로그 보기

### 개요

관리자의 중요한 작업을 기록한 활동 로그를 조회하고 내보낼 수 있습니다. 보안 감사, 문제 해결, 시스템 모니터링에 활용합니다.

### 주요 기능

#### 6.1 로그 유형

| 로그 유형 | 설명 |
|-----------|------|
| **auth** | 인증 관련 (로그인, 로그아웃) |
| **member** | 회원 관리 (가입, 수정, 삭제) |
| **board** | 게시판 관리 (생성, 수정, 삭제) |
| **content** | 콘텐츠 관리 (게시글, 댓글, 페이지) |
| **settings** | 설정 변경 |
| **permission** | 권한 변경 |
| **security** | 보안 관련 (차단, 제한) |
| **system** | 시스템 작업 |

#### 6.2 로그 정보

**기록되는 정보:**
- 타임스탬프 (정확한 시간)
- 관리자 ID (작업자)
- 작업 유형 (CRUD 유형)
- 대상 테이블/레코드
- 변경 전 데이터 (선택적으로)
- 변경 후 데이터 (선택적으로)
- IP 주소
- 사용자 에이전트

#### 6.3 로그 필터링

**필터 옵션:**
- **날짜 범위:** 시작일 ~ 종료일
- **작업자:** 특정 관리자
- **로그 유형:** auth, member, board 등
- **대상:** 특정 테이블 또는 레코드
- **키워드:** 설명에서 검색

**필터 사용:**
1. 로그 페이지 상단의 필터 영역
2. 원하는 필터 조건 선택
3. "적용" 버튼 클릭
4. 필터링된 결과 표시

#### 6.4 로그 내보내기

**CSV 내보내기:**
1. 필터 설정 (선택 사항)
2. "내보내기" 버튼 클릭
3. CSV 파일 다운로드
4. 엑셀 또는 텍스트 에디터에서 열기

**내보내기 형식:**
```csv
타임스탬프,관리자,작업유형,대상,설명,IP 주소
2026-02-24 10:30:15,admin,user,create,회원 생성,192.168.1.1
2026-02-24 10:35:22,admin,board,delete,게시판 삭제,192.168.1.1
```

#### 6.5 로그 보존

**보존 정책:**
- 기본 보존 기간: 90일
- 90일 이후 자동 삭제
- 중요 로그는 수동 보존 가능

**로그 삭제:**
- 개별 로그 삭제 불가 (감사 추적 목적)
- 전체 로그 초기화는 최고 관리자만 가능
- 삭제 전 확인 절차

#### 6.6 로그 상세보기

**상세 정보:**
1. 로그 목록에서 로그 클릭
2. 상세 대화상자 표시
3. 변경 전/후 데이터 비교
4. 관련 레코드 링크

### 사용 예시

```
1. 관리자 페이지 진입
2. "로그" 메뉴 클릭
3. 로그 목록 확인 (최신 순)
4. 필터 설정 (최근 7일, member 로그)
5. "적용" 버튼 클릭
6. 필터링된 로그 확인
7. 관심 로그 클릭하여 상세보기
8. 변경 전/후 데이터 확인
9. "내보내기"로 CSV 다운로드
10. 엑셀에서 분석
```

---

## 부록: 자주 묻는 질문

### Q1: WYSIWYG 에디터에서 작성하던 내용이 실수로 사라졌어요.

**A:** "드래프트" 버튼을 클릭하여 자동저장된 드래프트를 복구하세요. 드래프트는 7일간 보관됩니다.

### Q2: 메시지를 보냈는데 상대방이 받지 못했다고 해요.

**A:** 다음을 확인하세요:
- 상대방이 나를 차단했는지 확인
- 메시지 수신 거부 설정인지 확인
- 스팸 필터에 차단되었는지 확인

### Q3: 알림이 너무 많이 와서 설정을 변경하고 싶어요.

**A:** 알림 드롭다운의 설정(톱니바퀴) 아이콘을 클릭하여 원하지 않는 알림 타입을 끄세요.

### Q4: 레이아웃 빌더에서 만든 레이아웃을 게시판에 적용하려면?

**A:** 게시판 설정 페이지에서 "레이아웃" 선택 메뉴에서 만든 레이아웃을 선택하세요.

### Q5: 관리자 로그를 영구 보관하고 싶어요.

**A:** 현재는 90일 자동 삭제 정책이 있습니다. 영구 보관이 필요하면 "내보내기" 기능으로 CSV 파일을 저장하세요.

---

## 문의 지원

사용 중 문제가 발생하거나 문의사항이 있으시면:

- **이메일:** support@rhymix-ts.example.com
- **게시판:** https://rhymix-ts.example.com/qa
- **문서:** https://docs.rhymix-ts.example.com

---

**문서 버전:** 1.0.0
**마지막 업데이트:** 2026-02-24
**다음 업데이트 예정:** P2 기능 추가 시
