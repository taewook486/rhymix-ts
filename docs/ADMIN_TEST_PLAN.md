# SPEC-RHYMIX-001 관리자 기능 테스트 계획

**작성일:** 2026-02-21
**버전:** 1.0.0

---

## 1. 라우트 테스트

### 1.1 관리자 메인 라우트
| 경로 | 예상 코드 | 설명 |
|------|----------|------|
| `/admin` | 307 → `/signin` | 인증 없음시 리다이렉트 |
| `/ko/admin` | 307 → `/ko/signin` | 로케일 유지 리다이렉트 |
| `/admin/groups` | 307 → `/signin` | 인증 필요 |
| `/admin/permissions` | 307 → `/signin` | 인증 필요 |
| `/admin/modules` | 307 → `/signin` | 인증 필요 |
| `/admin/analytics` | 307 → `/signin` | 인증 필요 |
| `/admin/pages` | 307 → `/signin` | 인증 필요 |

### 1.2 테스트 명령어
```bash
# 인증 없는 접근 테스트
curl -w "%{http_code}" -o /dev/null http://localhost:3000/admin
curl -w "%{http_code}" -o /dev/null http://localhost:3000/ko/admin/groups

# 예상: 307 (Temporary Redirect)
```

---

## 2. 기능 테스트 체크리스트

### 2.1 그룹 관리 (`/admin/groups`)
- [ ] 그룹 목록 표시
- [ ] 총 그룹 수 통계 카드
- [ ] 총 회원 수 통계 카드
- [ ] 관리자 그룹 수 통계 카드
- [ ] "New Group" 버튼 표시
- [ ] 테이블 컬럼: 이름, 설명, 회원수, 생성일
- [ ] 액션 버튼 (Edit)

### 2.2 권한 관리 (`/admin/permissions`)
- [ ] 권한 목록 표시
- [ ] 총 권한 수 통계
- [ ] Board/Member/Admin 권한별 수
- [ ] 권한별 할당된 그룹 표시
- [ ] "New Permission" 버튼
- [ ] 테이블 컬럼: 이름, 설명, 모듈, 할당 그룹

### 2.3 모듈 관리 (`/admin/modules`)
- [ ] 모듈 목록 표시
- [ ] 총 모듈 수 / 활성 모듈 수
- [ ] 코어 모듈 수 / 애드온 수
- [ ] 활성/비활성 상태 토글
- [ ] 모듈 유형: Core / Add-on
- [ ] 액션: 설정, 비활성화 가능

### 2.4 분석 대시보드 (`/admin/analytics`)
- [ ] 통계 카드 4개:
  - 총 사용자 수
  - 총 게시글 수
  - 총 댓글 수
  - 총 조회수
- [ ] 인기 컨텐츠 TOP 5
- [ ] 최근 활동 목록
- [ ] 활동 개요 (사용자, 시간, 작업)

### 2.5 페이지 관리 (`/admin/pages`)
- [ ] 페이지 목록 표시
- [ ] 총 페이지 수 / 게시됨 수
- [ ] 초안 수
- [ ] 총 조회수
- [ ] "New Page" 버튼
- [ ] 게시 상태: Published / Draft
- [ ] CRUD 작동 가능

---

## 3. 통합 테스트

### 3.1 데이터 지속성
- [ ] 그룹 생성 후 데이터베이스에 저장
- [ ] 권한 변경 후 즉시 반영
- [ ] 모듈 토글 후 상태 변경
- [ ] 페이지 생성/수정 후 조회

### 3.2 권한 검증
- [ ] 비관리자는 관리자 페이지 접근 불가
- [ ] 관리자만 데이터 수정 가능

---

## 4. 수동 테스트 절차

### 4.1 사전 준비
1. 개발 서버 시작: `npm run dev`
2. Supabase 로컬 설정 확인
3. 브라우저 쿠키 삭제

### 4.2 테스트 순서
1. 로그인: `http://localhost:3000/signin`
2. 관리자 패널 접속
3. 각 페이지 방문 및 기능 테스트
4. 데이터 생성/수정/삭제 테스트
5. 로그아웃 후 재접속 테스트

### 4.3 예상 결과
- 모든 페이지가 오류 없이 렌더링
- 통계 카드에 실제 데이터 표시
- CRUD 작동 완료
- 인증 리다이렉트 정상

---

## 5. 알려진 이슈

### 5.1 현재 Mock 데이터 사용
- 일부 페이지에서 여전히 mock 데이터 사용 중
- Supabase 마이그레이션 실행 필요

### 5.2 해결 방안
```bash
# Supabase 마이그레이션 실행
# Supabase Dashboard > SQL Editor > 007_admin_features.sql 실행
```

---

## 6. 성공 기준

- [ ] 모든 라우트 200 응답 (인증 후)
- [ ] 모든 통계 카드 실제 데이터 표시
- [ ] CRUD 작동 완료
- [ ] 빌드 에러 없음
